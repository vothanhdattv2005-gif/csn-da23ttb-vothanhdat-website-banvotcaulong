<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
    <title>TD_Badminton - Vợt Cầu Lông</title>
    <link rel="stylesheet" href="css.css">
    <style>
        .product-card {
            transition: transform 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(182, 83, 228, 0.1);
        }
    </style>
</head>
<body style="background-color: rgb(48, 219, 191);">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <div>
        <header class="bg-light text-dark py-2 fs-5" style="font-family:Verdana, Geneva, Tahoma, sans-serif">
            <div class="p-2 d-flex align-items-center justify-content-between container-fluid">
                <div style="padding: 0px 50px;">
                    <a href="Trang_chu.html" class="text-dark text-decoration-none">
                        <div class="d-flex align-items-center">
                            <img src="logo.png" alt="TD_Badminton" class="img-fluid" style="max-height: 70px;">
                        </div>
                    </a>
                </div>

                <form class="d-flex flex-grow-1 mx-auto" style="max-width:600px; position:relative;">
                    <input id="searchInput" class="form-control rounded-pill me-2" type="search" placeholder="Tìm vợt, phụ kiện cầu lông...">
                    <button class="btn btn-primary rounded-pill px-4" type="submit">
                        <i class="bi bi-search"></i> Tìm kiếm
                    </button>
                    <div id="suggestions" class="list-group position-absolute w-100 mt-5 shadow-sm" style="z-index:1000;"></div>
                </form>

                <div class="d-flex align-items-center">

                    <div class="me-4 position-relative">
                        <a href="giohang.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-cart3 fs-5 me-1"></i> Giỏ hàng
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count-badge">
                                <span class="visually-hidden">sản phẩm</span>
                            </span>
                        </a>
                    </div>

                    <div class="me-4">
                        <a href="taikhoan.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-person fs-5 me-1"></i> Tài khoản
                        </a>
                    </div>

                    <div class="d-flex align-items-center text-dark">
                        <i class="bi bi-telephone me-2 fs-5"></i>
                        <div>
                            <div>Hotline</div>
                            <strong>0913894141</strong>
                        </div>
                    </div>

                </div>
            </div>

            <nav class="navbar navbar-expand-lg px-4" style="background-color:#b0d2f4;">
                <div class="container-fluid d-flex justify-content-center gap-3">
                    <a href="Trang_chu.html" class="btn btn-light text-dark"><i class="bi bi-house-door"></i> Trang chủ</a>
                    <a href="vot_yonex.html" class="btn btn-light text-dark">Vợt Yonex</a>
                    <a href="vot_lining.html" class="btn btn-light text-dark">Vợt Lining</a>
                    <a href="vot_victor.html" class="btn btn-light text-dark">Vợt Victor</a>
                    <a href="vot_khac.html" class="btn btn-light text-dark">Vợt Khác</a>
                    <a href="phu_kien.html" class="btn btn-light text-dark">Phụ Kiện Cầu Lông</a>
                    <a href="lien_he.html" class="btn btn-light text-dark"><i class="bi bi-telephone"></i> Liên hệ</a>
                </div>
            </nav>
        </header>
        <div class="container">
            <div id="bannerCarousel" class="carousel slide carousel-fade my-4" data-bs-ride="carousel" data-bs-interval="4000">
                <div class="carousel-inner rounded shadow">
                    <div class="carousel-item active">
                        <img src="ảnh/banner1.png" class="d-block w-100 rounded" alt="Yonex Banner" style="height:450px; object-fit:cover;">
                        <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-4">
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="ảnh/banner2.png" class="d-block w-100 rounded" alt="Lining Banner" style="height:450px; object-fit:cover;">
                        <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-4">
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
                <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="1"></button>
                </div>
            </div>
            <h3 class="mt-5 mb-4 text-center text-primary border-bottom pb-2">Vợt Cầu Lông Nổi Bật</h3>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
                
                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="AX88SP" 
                        data-name="Yonex Astrox 88S Pro" 
                        data-price="4500000"
                        data-image="ảnh/88spro.jpg"> 
                        
                        <a href="thongtin_vot_yonex/Yonex88SPro.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/88spro.jpg" alt="Yonex Astrox 88S Pro" style="width: 100%; height: 304px;; object-fit: contain;">
                            <h5 class="card-title mt-3">Yonex Astrox 88S Pro</h5>
                            <p class="text-danger fw-bold">4.500.000đ</p>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="Tectonic7" 
                        data-name="Lining Tectonic 7" 
                        data-price="3800000"
                        data-image="ảnh/t7.jpg"> 
                        
                        <a href="thongtin_vot/LiningT7.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/t7.jpg" alt="Lining Tectonic 7" style="width: 100%;height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Lining Tectonic 7</h5>
                            <p class="text-danger fw-bold">3.800.000đ</p>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="TKBXR" 
                        data-name="Victor Thruster K BXR" 
                        data-price="2100000"
                        data-image="ảnh/bxr.avif"> 
                        
                        <a href="thongtin_vot_vitor/bxr.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/bxr.avif" alt="Victor Thruster K BXR" style="width: 100%; height: 304px;; object-fit: contain;">
                            <h5 class="card-title mt-3">Victor Thruster K BXR</h5>
                            <p class="text-danger fw-bold">3.100.000đ</p>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="TKBXR" 
                        data-name="Lining Halbertec 8000" 
                        data-price="5100000"
                        data-image="ảnh/8000.jpg"> 
                        
                        <a href="thongtin_vot_lining/8000.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/8000.jpg" alt="Lining Halbertec 8000" style="width: 100%; height: 304px;; object-fit: contain;">
                            <h5 class="card-title mt-3">Lining Halbertec 8000</h5>
                            <p class="text-danger fw-bold">5.100.000đ</p>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>
            </div>
            </div> <footer class="text-white mt-5" style="background-color: rgba(37, 36, 36, 0.9); padding: 20px 60px;">
            <hr>
            <div class="row" style="font-size: 13px;">
                <div class="col-3">
                    <strong>Thông tin cửa hàng</strong>
                    <p>DT_Badminton - Store - Hệ thống cửa hàng chuyên cung cấp vợt cầu lông và phụ kiện chính hãng: Yonex, Lining, Victor, và nhiều thương hiệu khác.</p>
                    <p>Địa chỉ: 114 Vũ Đình Liệu,Long Đức, phường Trà Vinh, tỉnh Vĩnh Long</p>
                    <p>Cam kết hàng chính hãng, uy tín, chất lượng.</p>
                </div>
                <div class="col-3">
                    <strong>Chính sách bảo hành</strong>
                    <p>Đổi trả trong vòng 7 ngày nếu sản phẩm lỗi.</p>
                    <p>Bảo hành khung vợt (lỗi nhà sản xuất) trong 3 tháng.</p>
                    <p>Hỗ trợ trả góp với lãi suất ưu đãi.</p>
                </div>
                <div class="col-3">
                    <strong>Khuyến mãi & Sản phẩm nổi bật</strong>
                    <p>Giảm giá đến 20% cho vợt Lining.</p>
                    <p>Mua vợt tặng dây cước miễn phí.</p>
                    <p>Top sản phẩm bán chạy mỗi tuần.</p>
                </div>
                <div class="col-3">
                    <strong>Thời gian mở cửa</strong>
                    <p>8:00 - 21:00 (tất cả các ngày trong tuần)</p>
                    <p>Tư vấn online qua Zalo: 0913894141</p>
                </div>
            </div>

            <hr>

            <div class="d-flex justify-content-center text-light fs-6">
              Hệ thống cửa hàng vợt cầu lông chính hãng.
            </div>
        </footer>
        </div>  

    <script>
        const products = [
             {name: "Yonex Astrox 100 ZZ", url: "../thongtin_vot_yonex/AX100ZZ.html"},
            {name: "Yonex Astrox 99 Pro", url: "../thongtin_vot_yonex/Yonex99Pro.html"}, 
            {name: "Yonex Astrox 88S Pro", url: "../thongtin_vot_yonex/Yonex88SPro.html"},
            {name: "Yonex Nanoflare 800", url: "../thongtin_vot_yonex/YonexNF800.html"}, 
            {name: "Lining Calibar 600C", url: "../thongtin_vot_lining/600c.html"},
            {name: "Lining Windstorm 72", url: "../thongtin_vot_lining/w72.html"},
            {name: "Lining Windstorm 660", url: "../thongtin_vot_lining/gsl3800.html"},
            {name: "Lining Halbertec 8000", url: "../thongtin_vot_lining/8000.html"},
            {name: "Lining Axforce 90 Max", url: "../thongtin_vot_lining/af90max.html"},
            {name: "Lining Aeronaut 9000C", url: "../thongtin_vot_lining/9000c.html"},
            {name: "Victor Thruster K BXR", url: "../thongtin_vot_vitor/bxr.html"},
            {name: "Victor Auraspeed 90K II", url: "../thongtin_vot_vitor/90k.html"},
            {name: "Victor Brave Sword 12", url: "../thongtin_vot_vitor/bs12.html"},
            {name: "Victor DriveX 9X", url: "../thongtin_vot_vitor/x9.html"},
            {name: "Cầu Lông Hải Yến P50", url: "../phu_kien.html"},
        ];

        const input = document.getElementById("searchInput");
        const suggestionsBox = document.getElementById("suggestions");

        input.addEventListener("input", function() {
            const keyword = this.value.toLowerCase();
            suggestionsBox.innerHTML = "";

            if (keyword.length === 0) return;

            const matches = products.filter(p => p.name.toLowerCase().includes(keyword));

            if (matches.length > 0) {
                matches.forEach(m => {
                    const item = document.createElement("a");
                    item.classList.add("list-group-item", "list-group-item-action");
                    item.textContent = m.name;
                    item.href = m.url; // link trực tiếp tới trang sản phẩm
                    suggestionsBox.appendChild(item);
                });
            }
        });

        document.addEventListener("click", function(e){
            if (!input.contains(e.target)) {
                suggestionsBox.innerHTML = "";
            }
        });
        
        // 1. Đọc giỏ hàng từ Local Storage
        function getCart() {
            const cart = localStorage.getItem('shoppingCart');
            try {
                return cart ? JSON.parse(cart) : [];
            } catch (e) {
                console.error("Error parsing cart from localStorage", e);
                return [];
            }
        }

        // 2. Lưu giỏ hàng vào Local Storage và cập nhật số lượng
        function saveCart(cart) {
            localStorage.setItem('shoppingCart', JSON.stringify(cart));
            updateCartCount();
        }

        // 3. Cập nhật số lượng sản phẩm trên icon Giỏ hàng
        function updateCartCount() {
            const cart = getCart();
            // Tính tổng số lượng sản phẩm (Total Quantity)
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0); 
            
            // Cập nhật badge (biểu tượng số lượng) trong Header
            const cartBadge = document.querySelector('.cart-count-badge');
            if (cartBadge) {
            // Hiển thị số lượng, nếu bằng 0 thì có thể ẩn hoặc để trống/số 0
                cartBadge.textContent = totalItems > 0 ? totalItems : 0; 
            }
        }

        // 4. Hàm Thêm sản phẩm vào Giỏ hàng (được gọi từ nút bấm)
        function addToCart(buttonElement) {
            const productDiv = buttonElement.closest('.product-card'); // Tìm phần tử cha chứa data attributes
            
            // Kiểm tra xem đã tìm thấy div sản phẩm chưa
            if (!productDiv) {
                alert('Không tìm thấy thông tin sản phẩm.');
                return;
            }

            // Lấy thông tin sản phẩm từ data attributes
            const product = {
                id: productDiv.getAttribute('data-id'),
                name: productDiv.getAttribute('data-name'),
            // Chuyển giá trị price về số nguyên
                price: parseInt(productDiv.getAttribute('data-price')), 
                image: productDiv.getAttribute('data-image'),
                quantity: 1
            };

            let cart = getCart();
            const existingItem = cart.find(item => item.id === product.id);

            if (existingItem) {
                existingItem.quantity += 1; // Tăng số lượng nếu sản phẩm đã có
            } else {
                cart.push(product); // Thêm sản phẩm mới vào giỏ
            }

            saveCart(cart);

            alert(`✅ Đã thêm ${product.name} vào giỏ hàng!`);
            
            // Tùy chọn: Hiệu ứng đơn giản
            buttonElement.classList.add('btn-warning');
            buttonElement.textContent = 'Đã thêm!';
            setTimeout(() => {
                buttonElement.classList.remove('btn-warning');
                buttonElement.classList.add('btn-success');
                buttonElement.innerHTML = '<i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng';
            }, 1000);
        }

        // 5. Khởi tạo: Cập nhật số lượng giỏ hàng ngay khi trang tải
        document.addEventListener('DOMContentLoaded', updateCartCount);
    </script>
    </body>
</html>