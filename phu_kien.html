<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
    <title>TD_Badminton - Phụ Kiện Cầu Lông</title>
    <link rel="stylesheet" href="css.css">
    <style>
        /* Styling cho Card sản phẩm */
        .product-card {
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        .product-card:hover {
            transform: translateY(-5px);
            /* Màu đổ bóng đổi sang màu phù hợp với phụ kiện (Xanh lam nhạt) */
            box-shadow: 0 4px 15px rgba(0, 191, 255, 0.4); 
        }
    </style>
</head>
<body style="background-color: rgb(9, 228, 192);">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <div>
        <header class="bg-light text-dark py-2 fs-5" style="font-family:Verdana, Geneva, Tahoma, sans-serif">
            <div class="p-2 d-flex align-items-center justify-content-between container-fluid">
                <div style="padding: 0px 50px;">
                    <a href="Trang_chu.html" class="text-dark text-decoration-none">
                        <div class="d-flex align-items-center">
                            <img src="logo.png" alt="XT Store" class="img-fluid" style="max-height: 70px;">
                        </div>
                    </a>
                </div>

                <form class="d-flex flex-grow-1 mx-auto" style="max-width:600px; position:relative;">
                    <input id="searchInput" class="form-control rounded-pill me-2" type="search" placeholder="Tìm vợt, phụ kiện cầu lông...">
                    <button class="btn btn-primary rounded-pill px-4" type="submit">
                        <i class="bi bi-search"></i> Tìm kiếm
                    </button>
                    <div id="suggestions" class="list-group position-absolute w-100 mt-5 shadow-sm" style="z-index:1000;"></div>
                </form>

                <div class="d-flex align-items-center">

                    <div class="me-4 position-relative">
                        <a href="giohang.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-cart3 fs-5 me-1"></i> Giỏ hàng
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count-badge">
                                <span class="visually-hidden">sản phẩm</span>
                            </span>
                        </a>
                    </div>

                    <div class="me-4">
                        <a href="taikhoan.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-person fs-5 me-1"></i> Tài khoản
                        </a>
                    </div>

                    <div class="d-flex align-items-center text-dark">
                        <i class="bi bi-telephone me-2 fs-5"></i>
                        <div>
                            <div>Hổ trợ</div>
                            <strong>0913894141</strong>
                        </div>
                    </div>

                </div>
            </div>

            <nav class="navbar navbar-expand-lg px-4" style="background-color:#007bff;"> 
                <div class="container-fluid d-flex justify-content-center gap-3">
                    <a href="Trang_chu.html" class="btn btn-light text-dark"><i class="bi bi-house-door"></i> Trang chủ</a>
                    <a href="vot_yonex.html" class="btn btn-light text-dark">Vợt Yonex</a> 
                    <a href="vot_lining.html" class="btn btn-light text-dark">Vợt Lining</a>
                    <a href="vot_victor.html" class="btn btn-light text-dark">Vợt Victor</a> 
                    <a href="vot_khac.html" class="btn btn-light text-dark">Vợt Khác</a>
                    <a href="phu_kien.html" class="btn btn-warning text-dark active"><strong>Phụ Kiện Cầu Lông</strong></a>
                    <a href="lien_he.html" class="btn btn-light text-dark"><i class="bi bi-telephone"></i> Liên hệ</a>
                </div>
            </nav>
        </header>
        
        <div class="container">
            <div class="p-5 mb-4 bg-white rounded-3 shadow-lg text-center">
                <div class="container-fluid py-5">
                    <h1 class="display-5 fw-bold text-primary"><i class="bi bi-gear-fill"></i> PHỤ KIỆN CẦU LÔNG CHÍNH HÃNG <i class="bi bi-gear-fill"></i></h1>
                    <p class="col-md-8 fs-4 mx-auto">Cung cấp các loại cước căng vợt, quấn cán, và quả cầu chất lượng cao từ các thương hiệu hàng đầu thế giới.</p>
                    <a href="#danh-sach-san-pham" class="btn btn-primary btn-lg mt-3" type="button">Xem Toàn Bộ Sản Phẩm</a>
                </div>
            </div>

            <h3 id="danh-sach-san-pham" class="mt-5 mb-4 text-center text-primary border-bottom pb-2">Danh Sách Phụ Kiện Cầu Lông</h3>
            
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                
                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="BG66UM" 
                        data-name="Dây Cước Yonex BG66 Ultimax" 
                        data-price="180000"
                        data-image="ảnh/66u.webp"> 
                        
                        <a href="thongtin_phu_kien/66u.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/66u.webp" alt="Yonex BG66 Ultimax" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Dây Cước Yonex BG66 Ultimax</h5>
                            <p class="text-danger fw-bold">180.000đ</p>
                            <span class="badge bg-danger">Cước mỏng, Trợ lực cao</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="HY_S100" 
                        data-name="Ống Cầu Lông Hải Yến S100" 
                        data-price="200000"
                        data-image="ảnh/s90.webp"> 
                        
                        <a href="thongtin_phu_kien/cauhaiyen.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/s90.webp" alt="Ống Cầu Lông Hải Yến S90" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Ống Cầu Lông Hải Yến S90</h5>
                            <p class="text-danger fw-bold">290.000đ</p>
                            <span class="badge bg-primary">Cầu lông vũ, Tốc độ 77</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="VS800" 
                        data-name="Quấn Cán Vợt VS 800" 
                        data-price="25000"
                        data-image="ảnh/quancanvs.webp"> 
                        
                        <a href="thongtin_phu_kien/quancanvs800.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/quancanvs.webp" alt="Quấn Cán Vợt VS 800" style="width: 100%; height:304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Quấn Cán Vợt VS 800</h5>
                            <p class="text-danger fw-bold">25.000đ</p>
                            <span class="badge bg-success">Quấn đơn, Hút ẩm tốt</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="LN9" 
                        data-name="Dây Cước Lining N9" 
                        data-price="150000"
                        data-image="ảnh/cuocliningn9.jpg"> 
                        
                        <a href="thongtin_phu_kien/cuocn9.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/cuocliningn9.jpg" alt="Dây Cước Lining N9" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Dây Cước Lining N9</h5>
                            <p class="text-danger fw-bold">150.000đ</p>
                            <span class="badge bg-secondary">Cước dày, Độ bền cao</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="VG233" 
                        data-name="Quấn Cán Vợt Victor GR233" 
                        data-price="35000"
                        data-image="ảnh/quancanvictor.webp"> 
                        
                        <a href="thongtin_phu_kien/quancanvictor.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/quancanvictor.webp" alt="Quấn Cán Vợt Victor GR233" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Quấn Cán Vợt Victor GR233</h5>
                            <p class="text-danger fw-bold">35.000đ</p>
                            <span class="badge bg-info">Quấn vải, Thoáng khí</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="VS_BALL" 
                        data-name="Cầu Lông Vina Star" 
                        data-price="130000"
                        data-image="ảnh/cauvinastar.webp"> 
                        
                        <a href="thongtin_phu_kien/vinastar.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/cauvinastar.webp" alt="Cầu Lông Vina Star" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Cầu Lông Vina Star</h5>
                            <p class="text-danger fw-bold">130.000đ</p>
                            <span class="badge bg-warning text-dark">Lông nhựa, Bền</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>
                
                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="VBS66" 
                        data-name="Dây Cước Victor VBS 66 Nano" 
                        data-price="170000"
                        data-image="ảnh/cuocvbs66.webp"> 
                        
                        <a href="thongtin_phu_kien/cuocvictor66.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/cuocvbs66.webp" alt="Dây Cước Victor VBS 66 Nano" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">Dây Cước Victor VBS 66 Nano</h5>
                            <p class="text-danger fw-bold">170.000đ</p>
                            <span class="badge bg-dark">Cước mỏng, Kiểm soát tốt</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>

                <div class="col">
                    <div class="card p-2 h-100 text-decoration-none product-card shadow-sm" 
                        data-id="YAC102" 
                        data-name="Quấn Cán Vợt Yonex AC102" 
                        data-price="450000"
                        data-image="ảnh/quancanyonex.webp"> 
                        
                        <a href="thongtin_phu_kien/quancanyonex.html" class="text-decoration-none text-dark d-block">
                            <img class="rounded-3 m-auto d-block" src="ảnh/quancanyonex.webp" alt="Quấn Cán Vợt Yonex AC102" style="width: 100%; height: 304px; object-fit: contain;">
                            <h5 class="card-title mt-3">    </h5>
                            <p class="text-danger fw-bold">450.000đ</p>
                            <span class="badge bg-secondary">Hộp lớn, Tiết kiệm</span>
                        </a>
                        <button class="btn btn-success mt-2" onclick="addToCart(this)">
                            <i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng
                        </button>
                    </div>
                </div>
                
            </div>
            
        </div>
        <footer class="text-white mt-5" style="background-color: rgba(37, 36, 36, 0.9); padding: 20px 60px;">
            <hr>
            <div class="row" style="font-size: 13px;">
                <div class="col-3">
                    <strong>Thông tin cửa hàng</strong>
                    <p>DT_Badminton- Store - Hệ thống cửa hàng chuyên cung cấp vợt cầu lông và phụ kiện chính hãng: Yonex, Lining, Victor, và nhiều thương hiệu khác.</p>
                    <p>Địa chỉ: 114 Vũ Đình Liệu,Long Đức, phường Trà Vinh, tỉnh Vĩnh Long</p>
                    <p>Cam kết hàng chính hãng, uy tín, chất lượng.</p>
                </div>
                <div class="col-3">
                    <strong>Chính sách bảo hành</strong>
                    <p>Đổi trả trong vòng 7 ngày nếu sản phẩm lỗi.</p>
                    <p>Bảo hành khung vợt (lỗi nhà sản xuất) trong 3 tháng.</p>
                    <p>Hỗ trợ trả góp với lãi suất ưu đãi.</p>
                </div>
                <div class="col-3">
                    <strong>Khuyến mãi & Sản phẩm nổi bật</strong>
                    <p>Giảm giá đến 20% cho vợt Lining.</p>
                    <p>Mua vợt tặng dây cước miễn phí.</p>
                    <p>Top sản phẩm bán chạy mỗi tuần.</p>
                </div>
                <div class="col-3">
                    <strong>Thời gian mở cửa</strong>
                    <p>8:00 - 21:00 (tất cả các ngày trong tuần)</p>
                    <p>Tư vấn online qua Zalo: 0344 776 793</p>
                </div>
            </div>

            <hr>

            <div class="d-flex justify-content-center text-light fs-6">
            Hệ thống cửa hàng vợt cầu lông chính hãng.
            </div>
        </footer>
    </div>

    <script>
        const products = [
          {name: "Yonex Astrox 100 ZZ", url: "../thongtin_vot_yonex/AX100ZZ.html"},
            {name: "Yonex Astrox 99 Pro", url: "../thongtin_vot_yonex/Yonex99Pro.html"}, 
            {name: "Yonex Astrox 88S Pro", url: "../thongtin_vot_yonex/Yonex88SPro.html"},
            {name: "Yonex Nanoflare 800", url: "../thongtin_vot_yonex/YonexNF800.html"}, 
            {name: "Lining Calibar 600C", url: "../thongtin_vot_lining/600c.html"},
            {name: "Lining Windstorm 72", url: "../thongtin_vot_lining/w72.html"},
            {name: "Lining Windstorm 660", url: "../thongtin_vot_lining/gsl3800.html"},
            {name: "Lining Halbertec 8000", url: "../thongtin_vot_lining/8000.html"},
            {name: "Lining Axforce 90 Max", url: "../thongtin_vot_lining/af90max.html"},
            {name: "Lining Aeronaut 9000C", url: "../thongtin_vot_lining/9000c.html"},
            {name: "Victor Thruster K BXR", url: "../thongtin_vot_vitor/bxr.html"},
            {name: "Victor Auraspeed 90K II", url: "../thongtin_vot_vitor/90k.html"},
            {name: "Victor Brave Sword 12", url: "../thongtin_vot_vitor/bs12.html"},
            {name: "Victor DriveX 9X", url: "../thongtin_vot_vitor/x9.html"},
            {name: "Cầu Lông Hải Yến P50", url: "../phu_kien.html"},
        ];

        const input = document.getElementById("searchInput");
        const suggestionsBox = document.getElementById("suggestions");

        input.addEventListener("input", function() {
            const keyword = this.value.toLowerCase();
            suggestionsBox.innerHTML = "";

            if (keyword.length === 0) return;

            const matches = products.filter(p => p.name.toLowerCase().includes(keyword));

            if (matches.length > 0) {
                matches.forEach(m => {
                    const item = document.createElement("a");
                    item.classList.add("list-group-item", "list-group-item-action");
                    item.textContent = m.name;
                    item.href = m.url; 
                    suggestionsBox.appendChild(item);
                });
            }
        });

        document.addEventListener("click", function(e){
            if (!input.contains(e.target)) {
                suggestionsBox.innerHTML = "";
            }
        });
        
        // 1. Đọc giỏ hàng từ Local Storage
        function getCart() {
            const cart = localStorage.getItem('shoppingCart');
            try {
                return cart ? JSON.parse(cart) : [];
            } catch (e) {
                console.error("Error parsing cart from localStorage", e);
                return [];
            }
        }

        // 2. Lưu giỏ hàng vào Local Storage và cập nhật số lượng
        function saveCart(cart) {
            localStorage.setItem('shoppingCart', JSON.stringify(cart));
            updateCartCount();
        }

        // 3. Cập nhật số lượng sản phẩm trên icon Giỏ hàng
        function updateCartCount() {
            const cart = getCart();
            // Tính tổng số lượng sản phẩm
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0); 
            
            // Cập nhật badge
            const cartBadge = document.querySelector('.cart-count-badge');
            if (cartBadge) {
                cartBadge.textContent = totalItems > 0 ? totalItems : 0; 
            }
        }

        // 4. Hàm Thêm sản phẩm vào Giỏ hàng (được gọi từ nút bấm)
        function addToCart(buttonElement) {
            const productDiv = buttonElement.closest('.product-card'); 
            
            if (!productDiv) {
                alert('Không tìm thấy thông tin sản phẩm.');
                return;
            }

            // Lấy thông tin sản phẩm từ data attributes
            const product = {
                id: productDiv.getAttribute('data-id'),
                name: productDiv.getAttribute('data-name'),
                price: parseInt(productDiv.getAttribute('data-price')), 
                image: productDiv.querySelector('img').getAttribute('src'), 
                quantity: 1
            };

            let cart = getCart();
            const existingItem = cart.find(item => item.id === product.id);

            if (existingItem) {
                existingItem.quantity += 1; 
            } else {
                cart.push(product); 
            }

            saveCart(cart);

            alert(`✅ Đã thêm ${product.name} vào giỏ hàng!`);
            
            // Tùy chọn: Hiệu ứng đơn giản
            buttonElement.classList.remove('btn-success');
            buttonElement.classList.add('btn-warning');
            buttonElement.textContent = 'Đã thêm!';
            setTimeout(() => {
                buttonElement.classList.remove('btn-warning');
                buttonElement.classList.add('btn-success');
                buttonElement.innerHTML = '<i class="bi bi-cart-plus"></i> Thêm vào Giỏ hàng';
            }, 1000);
        }

        // 5. Khởi tạo: Cập nhật số lượng giỏ hàng ngay khi trang tải
        document.addEventListener('DOMContentLoaded', updateCartCount);
    </script>
</body>
</html>