<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
    <title>TD_Badminton - T√†i Kho·∫£n</title>
    </head>
<body style="background-color: rgb(48, 219, 191);">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <div>
        <header class="bg-light text-dark py-2 fs-5" style="font-family:Verdana, Geneva, Tahoma, sans-serif">
            <div class="p-2 d-flex align-items-center justify-content-between container-fluid">
                <div style="padding: 0px 50px;">
                    <a href="Trang_chu.html" class="text-dark text-decoration-none">
                        <div class="d-flex align-items-center">
                            <img src="logo.png" alt="XT Store" class="img-fluid" style="max-height: 70px;">
                        </div>
                    </a>
                </div>

                <form class="d-flex flex-grow-1 mx-auto" style="max-width:600px; position:relative;">
                    <input id="searchInput" class="form-control rounded-pill me-2" type="search" placeholder="T√¨m v·ª£t, ph·ª• ki·ªán c·∫ßu l√¥ng...">
                    <button class="btn btn-primary rounded-pill px-4" type="submit">
                        <i class="bi bi-search"></i> T√¨m ki·∫øm
                    </button>
                    <div id="suggestions" class="list-group position-absolute w-100 mt-5 shadow-sm" style="z-index:1000;"></div>
                </form>

                <div class="d-flex align-items-center">

                    <div class="me-4 position-relative">
                        <a href="giohang.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-cart3 fs-5 me-1"></i> Gi·ªè h√†ng
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count-badge">
                                <span class="visually-hidden">s·∫£n ph·∫©m</span>
                            </span>
                        </a>
                    </div>

                    <div class="me-4" id="account-status">
                        <a href="taikhoan.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-person fs-5 me-1"></i> T√†i kho·∫£n
                        </a>
                    </div>

                    <div class="d-flex align-items-center text-dark">
                        <i class="bi bi-telephone me-2 fs-5"></i>
                        <div>
                            <div>Hotline</div>
                            <strong>0913894141</strong>
                        </div>
                    </div>

                </div>
            </div>

            <nav class="navbar navbar-expand-lg px-4" style="background-color:#b0d2f4;">
                <div class="container-fluid d-flex justify-content-center gap-3">
                    <a href="Trang_chu.html" class="btn btn-light text-dark"><i class="bi bi-house-door"></i> Trang ch·ªß</a>
                    <a href="vot_yonex.html" class="btn btn-light text-dark">V·ª£t Yonex</a>
                    <a href="vot_lining.html" class="btn btn-light text-dark">V·ª£t Lining</a>
                    <a href="vot_victor.html" class="btn btn-light text-dark">V·ª£t Victor</a>
                    <a href="vot_khac.html" class="btn btn-light text-dark">V·ª£t Kh√°c</a>
                    <a href="phu_kien.html" class="btn btn-light text-dark">Ph·ª• Ki·ªán C·∫ßu L√¥ng</a>
                    <a href="lien_he.html" class="btn btn-light text-dark"><i class="bi bi-telephone"></i> Li√™n h·ªá</a>
                </div>
            </nav>
        </header>
        <div class="container my-5">
            <div class="row justify-content-center">
                <div class="col-md-7 col-lg-6">
                    <div class="card shadow-lg p-4">
                        
                        <ul class="nav nav-tabs nav-justified" id="accountTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">
                                    <i class="bi bi-box-arrow-in-right me-2"></i> ƒêƒÉng Nh·∫≠p
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="false">
                                    <i class="bi bi-person-plus me-2"></i> ƒêƒÉng K√Ω
                                </button>
                            </li>
                        </ul>
                        
                        <div class="tab-content" id="accountTabContent">
                            
                            <div class="tab-pane fade show active p-3" id="login" role="tabpanel" aria-labelledby="login-tab">
                                <h5 class="text-center text-primary mb-4">ƒêƒÉng Nh·∫≠p T√†i Kho·∫£n</h5>
                                <form id="loginForm">
                                    <div class="mb-3">
                                        <label for="login-username" class="form-label">T√™n ƒëƒÉng nh·∫≠p (Email/SƒêT):</label>
                                        <input type="text" class="form-control" id="login-username" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="login-password" class="form-label">M·∫≠t kh·∫©u:</label>
                                        <input type="password" class="form-control" id="login-password" required>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <button type="submit" class="btn btn-primary btn-lg">ƒêƒÉng Nh·∫≠p</button>
                                    </div>
                                    <p class="text-center mt-3">
                                        Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" onclick="document.getElementById('register-tab').click(); return false;">ƒêƒÉng k√Ω ngay</a>
                                    </p>
                                </form>
                            </div>

                            <div class="tab-pane fade p-3" id="register" role="tabpanel" aria-labelledby="register-tab">
                                <h5 class="text-center text-success mb-4">T·∫°o T√†i Kho·∫£n M·ªõi</h5>
                                <form id="registerForm">
                                    <div class="mb-3">
                                        <label for="reg-name" class="form-label">H·ªç v√† T√™n:</label>
                                        <input type="text" class="form-control" id="reg-name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="reg-email" class="form-label">Email/S·ªë ƒëi·ªán tho·∫°i:</label>
                                        <input type="text" class="form-control" id="reg-email" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="reg-password" class="form-label">M·∫≠t kh·∫©u:</label>
                                        <input type="password" class="form-control" id="reg-password" required>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <button type="submit" class="btn btn-success btn-lg">ƒêƒÉng K√Ω</button>
                                    </div>
                                    <p class="text-center mt-3">
                                        ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" onclick="document.getElementById('login-tab').click(); return false;">ƒêƒÉng nh·∫≠p</a>
                                    </p>
                                </form>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="text-white mt-5" style="background-color: rgba(37, 36, 36, 0.9); padding: 20px 60px;">
            <hr>
            <div class="row" style="font-size: 13px;">
                <div class="col-3">
                    <strong>Th√¥ng tin c·ª≠a h√†ng</strong>
                    <p>DT_Badminton- Store - H·ªá th·ªëng c·ª≠a h√†ng chuy√™n cung c·∫•p v·ª£t c·∫ßu l√¥ng v√† ph·ª• ki·ªán ch√≠nh h√£ng: Yonex, Lining, Victor, v√† nhi·ªÅu th∆∞∆°ng hi·ªáu kh√°c.</p>
                    <p>ƒê·ªãa ch·ªâ: 114 V≈© ƒê√¨nh Li·ªáu,Long ƒê·ª©c, ph∆∞·ªùng Tr√† Vinh, t·ªânh Vƒ©nh Long</p>
                    <p>Cam k·∫øt h√†ng ch√≠nh h√£ng, uy t√≠n, ch·∫•t l∆∞·ª£ng.</p>
                </div>
                <div class="col-3">
                    <strong>Ch√≠nh s√°ch b·∫£o h√†nh</strong>
                    <p>ƒê·ªïi tr·∫£ trong v√≤ng 7 ng√†y n·∫øu s·∫£n ph·∫©m l·ªói.</p>
                    <p>B·∫£o h√†nh khung v·ª£t (l·ªói nh√† s·∫£n xu·∫•t) trong 3 th√°ng.</p>
                    <p>H·ªó tr·ª£ tr·∫£ g√≥p v·ªõi l√£i su·∫•t ∆∞u ƒë√£i.</p>
                </div>
                <div class="col-3">
                    <strong>Khuy·∫øn m√£i & S·∫£n ph·∫©m n·ªïi b·∫≠t</strong>
                    <p>Gi·∫£m gi√° ƒë·∫øn 20% cho v·ª£t Lining.</p>
                    <p>Mua v·ª£t t·∫∑ng d√¢y c∆∞·ªõc mi·ªÖn ph√≠.</p>
                    <p>Top s·∫£n ph·∫©m b√°n ch·∫°y m·ªói tu·∫ßn.</p>
                </div>
                <div class="col-3">
                    <strong>Th·ªùi gian m·ªü c·ª≠a</strong>
                    <p>8:00 - 21:00 (t·∫•t c·∫£ c√°c ng√†y trong tu·∫ßn)</p>
                    <p>T∆∞ v·∫•n online qua Zalo: 0344 776 793</p>
                </div>
            </div>

            <hr>

            <div class="d-flex justify-content-center text-light fs-6">
             H·ªá th·ªëng c·ª≠a h√†ng v·ª£t c·∫ßu l√¥ng ch√≠nh h√£ng.
            </div>
        </footer>
        </div>
    
    <script>
        // ------------------------- LOGIC X·ª¨ L√ù ƒêƒÇNG NH·∫¨P/ƒêƒÇNG K√ù -------------------------
        
        // Logic gi·∫£ l·∫≠p ƒêƒÉng nh·∫≠p
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('login-username').value;
            
            // Gi·∫£ l·∫≠p l∆∞u th√¥ng tin ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p v√†o Local Storage
            const user = { username: username, email: username + '@example.com' };
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            alert(`üëã Ch√†o m·ª´ng ${username} ƒë√£ ƒëƒÉng nh·∫≠p th√†nh c√¥ng!`);
            
            // Chuy·ªÉn h∆∞·ªõng v·ªÅ trang ch·ªß sau khi ƒëƒÉng nh·∫≠p
            window.location.href = "Trang_chu.html"; 
        });

        // Logic gi·∫£ l·∫≠p ƒêƒÉng k√Ω
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            
            // Gi·∫£ l·∫≠p vi·ªác t·∫°o t√†i kho·∫£n th√†nh c√¥ng
            alert(`üéâ Ch√∫c m·ª´ng ${name}! B·∫°n ƒë√£ ƒëƒÉng k√Ω th√†nh c√¥ng v·ªõi Email/SƒêT: ${email}.\nB·∫°n c√≥ th·ªÉ ƒëƒÉng nh·∫≠p ngay b√¢y gi·ªù.`);
            
            // Chuy·ªÉn sang tab ƒêƒÉng nh·∫≠p sau khi ƒëƒÉng k√Ω
            const loginTabButton = document.getElementById('login-tab');
            if (loginTabButton) {
                loginTabButton.click();
                document.getElementById('login-username').value = email; // G·ª£i √Ω t√™n ƒëƒÉng nh·∫≠p
            }
        });
        
        // ------------------------- C√ÅC H√ÄM C·∫¶N THI·∫æT CHO HEADER -------------------------
        
        // H√†m ƒêƒÉng xu·∫•t (C√≥ th·ªÉ g·ªçi t·ª´ b·∫•t k·ª≥ trang n√†o)
        function logout(event) {
            event.preventDefault(); 
            localStorage.removeItem('currentUser'); 
            alert('B·∫°n ƒë√£ ƒëƒÉng xu·∫•t th√†nh c√¥ng!');
            window.location.href = "taikhoan.html"; // Chuy·ªÉn v·ªÅ trang ƒëƒÉng nh·∫≠p
        }
        
        // C·∫≠p nh·∫≠t tr·∫°ng th√°i T√†i kho·∫£n tr√™n Header
        function updateAccountStatus() {
            const accountStatusDiv = document.getElementById('account-status');
            const userLoggedIn = localStorage.getItem('currentUser'); 

            if (accountStatusDiv) {
                if (userLoggedIn) {
                    const user = JSON.parse(userLoggedIn);
                    accountStatusDiv.innerHTML = `
                        <div class="dropdown">
                            <a class="text-dark text-decoration-none d-flex align-items-center dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-person-circle fs-5 me-1"></i> **Xin ch√†o, ${user.username}**
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="taikhoan.html"><i class="bi bi-person-vcard me-2"></i> H·ªì s∆°</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="#" onclick="logout(event)"><i class="bi bi-box-arrow-right me-2"></i> ƒêƒÉng xu·∫•t</a></li>
                            </ul>
                        </div>
                    `;
                } else {
                    accountStatusDiv.innerHTML = `
                        <a href="taikhoan.html" class="text-dark text-decoration-none d-flex align-items-center">
                            <i class="bi bi-person fs-5 me-1"></i> T√†i kho·∫£n
                        </a>
                    `;
                }
            }
        }
        
        // H√†m c·∫≠p nh·∫≠t gi·ªè h√†ng (CART COUNT) - C·∫ßn thi·∫øt cho Header
        function getCart() {
            const cart = localStorage.getItem('shoppingCart');
            try {
                return cart ? JSON.parse(cart) : [];
            } catch (e) {
                console.error("Error parsing cart from localStorage", e);
                return [];
            }
        }
        
        function updateCartCount() {
            const cart = getCart();
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0); 
            const cartBadge = document.querySelector('.cart-count-badge');
            if (cartBadge) {
                cartBadge.textContent = totalItems > 0 ? totalItems : 0; 
            }
        }
        
        // H√†m t√¨m ki·∫øm (SEARCH) - C·∫ßn thi·∫øt cho Header
        const products = [
            {name: "Yonex Astrox 100 ZZ", url: "../thongtin_vot_yonex/AX100ZZ.html"},
            {name: "Yonex Astrox 99 Pro", url: "../thongtin_vot_yonex/Yonex99Pro.html"}, 
            {name: "Yonex Astrox 88S Pro", url: "../thongtin_vot_yonex/Yonex88SPro.html"},
            {name: "Yonex Nanoflare 800", url: "../thongtin_vot_yonex/YonexNF800.html"}, 
            {name: "Lining Calibar 600C", url: "../thongtin_vot_lining/600c.html"},
            {name: "Lining Windstorm 72", url: "../thongtin_vot_lining/w72.html"},
            {name: "Lining Windstorm 660", url: "../thongtin_vot_lining/gsl3800.html"},
            {name: "Lining Halbertec 8000", url: "../thongtin_vot_lining/8000.html"},
            {name: "Lining Axforce 90 Max", url: "../thongtin_vot_lining/af90max.html"},
            {name: "Lining Aeronaut 9000C", url: "../thongtin_vot_lining/9000c.html"},
            {name: "Victor Thruster K BXR", url: "../thongtin_vot_vitor/bxr.html"},
            {name: "Victor Auraspeed 90K II", url: "../thongtin_vot_vitor/90k.html"},
            {name: "Victor Brave Sword 12", url: "../thongtin_vot_vitor/bs12.html"},
            {name: "Victor DriveX 9X", url: "../thongtin_vot_vitor/x9.html"},
            {name: "C·∫ßu L√¥ng H·∫£i Y·∫øn P50", url: "../phu_kien.html"},
        ];

        const input = document.getElementById("searchInput");
        const suggestionsBox = document.getElementById("suggestions");

        if (input && suggestionsBox) {
            input.addEventListener("input", function() {
                const keyword = this.value.toLowerCase();
                suggestionsBox.innerHTML = "";

                if (keyword.length === 0) return;

                const matches = products.filter(p => p.name.toLowerCase().includes(keyword));

                if (matches.length > 0) {
                    matches.forEach(m => {
                        const item = document.createElement("a");
                        item.classList.add("list-group-item", "list-group-item-action");
                        item.textContent = m.name;
                        item.href = m.url; 
                        suggestionsBox.appendChild(item);
                    });
                }
            });

            document.addEventListener("click", function(e){
                if (!input.contains(e.target)) {
                    suggestionsBox.innerHTML = "";
                }
            });
        }

        // Kh·ªüi t·∫°o t·∫•t c·∫£ c√°c h√†m c·∫ßn thi·∫øt khi t·∫£i trang
        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
            updateAccountStatus();
        });
        
    </script>
</body>
</html>